<!DOCTYPE html>
<html class="writer-html5" lang="en">
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Network definition for EP5G &mdash; ExPECA Documentation</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/theme.css" />
      <link rel="stylesheet" type="text/css" href="../_static/css/style.css" />

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../_static/doctools.js"></script>
        <script src="../_static/sphinx_highlight.js"></script>
    <script src="../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Running a container towards EP5G" href="../container-vs-ep5g/index.html" />
    <link rel="prev" title="Running a basic container" href="../container-basic/index.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../contents.html" class="icon icon-home">
            ExPECA Documentation
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <p class="caption" role="heading"><span class="caption-text">Introduction</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../index.html">Welcome to ExPECA</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Testbed workshop</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../workshop/index.html">Workshop Media</a></li>
</ul>
<p class="caption" role="heading"><span class="caption-text">Testbed operation</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="../reservation-worker/index.html">Reservation of a worker node</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reservation-sdr/index.html">Reservation of an SDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reservation-advantech/index.html">Reservation of an Advantech router</a></li>
<li class="toctree-l1"><a class="reference internal" href="../reservation-ep5g/index.html">Reservation of EP5G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-basic/index.html">Running a basic container</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Network definition for EP5G</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#step-1-reserve-ep5g">Step 1: Reserve EP5G</a></li>
<li class="toctree-l2"><a class="reference internal" href="#step-2-create-a-router">Step 2: Create a router</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../container-vs-ep5g/index.html">Running a container towards EP5G</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-vs-telenor/index.html">Running a container towards Telenor Edge</a></li>
<li class="toctree-l1"><a class="reference internal" href="../container-vs-public/index.html">Assigning a public IP to a container</a></li>
<li class="toctree-l1"><a class="reference internal" href="../python-notebook/index.html">Running a Python Notebook</a></li>
<li class="toctree-l1"><a class="reference internal" href="../images/index.html">ExPECA Docker Images</a></li>
<li class="toctree-l1"><a class="reference internal" href="../launch-oai-core-gnb/index.html">Launching OAI Core and GnodeB with SDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../visualization/index.html">Data Visualization</a></li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../contents.html">ExPECA Documentation</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../contents.html" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Network definition for EP5G</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../_sources/network-ep5g/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="network-definition-for-ep5g">
<span id="network-ep5g"></span><h1>Network definition for EP5G<a class="headerlink" href="#network-definition-for-ep5g" title="Permalink to this heading"></a></h1>
<p>This guide will walk you through the steps of defining networking for EP5G (Ericsson Private 5G).
The operation of the EP5G within ExPECA requires that networks and routers are defined from the view
of Openstack.</p>
<figure class="screenshot align-default">
<img alt="EP5G networking" src="../_images/ep5g_network_overview.png" />
</figure>
<section id="step-1-reserve-ep5g">
<h2>Step 1: Reserve EP5G<a class="headerlink" href="#step-1-reserve-ep5g" title="Permalink to this heading"></a></h2>
<p>See the “reservation of EP5G” section.</p>
<p>When reserving EP5G, a network is automatically created within Openstack with a name that is given in the reservation process.</p>
<figure class="screenshot align-default">
<img alt="Routers main page" src="../_images/network_check1.png" />
</figure>
<figure class="screenshot align-default">
<img alt="Routers main page" src="../_images/network_check2.png" />
</figure>
<figure class="screenshot align-default">
<img alt="Routers main page" src="../_images/network_check3.png" />
</figure>
</section>
<section id="step-2-create-a-router">
<h2>Step 2: Create a router<a class="headerlink" href="#step-2-create-a-router" title="Permalink to this heading"></a></h2>
<ul class="simple">
<li><p>From the ExPECA home page, click <em>Network</em> -&gt; <em>Routers</em></p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Routers main page" src="../_images/router1.png" />
</figure>
<ul class="simple">
<li><p>Click <em>+ Create Router</em></p></li>
<li><p>Give the router a name, and select “public” under <em>External Network</em></p></li>
<li><p>Click <em>Create</em></p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Create router" src="../_images/router2.png" />
</figure>
<figure class="screenshot align-default">
<img alt="Router defined" src="../_images/router3.png" />
</figure>
<figure class="screenshot align-default">
<img alt="Router overview" src="../_images/router4.png" />
</figure>
<ul class="simple">
<li><p>Click on your router. Under <em>Interfaces</em> tab, click <em>+ Add Interface</em></p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Router interfaces" src="../_images/router5.png" />
</figure>
<ul class="simple">
<li><p>Select the automatically created subnet under <em>Subnet</em></p></li>
<li><p>Set IP address to the “default gateway,” which is 10.30.111.1 (See the overall network diagram at the top of this page)</p></li>
<li><p>Click <em>Submit</em></p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Router add interface" src="../_images/router6.png" />
</figure>
<figure class="screenshot align-default">
<img alt="Router interface defined" src="../_images/router7.png" />
</figure>
<ul class="simple">
<li><p>Under <em>Static Routes</em> tab, type destination CIDR 172.16.0.0/16 and next hop 10.30.11.10, so traffic in direction towards end users
(wireless Advantech routers, in this case) is routed</p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Router add static route" src="../_images/router8.png" />
</figure>
<ul class="simple">
<li><p>At this time, the networking to communicate via EP5G towards the internet is defined, and if you have any user equipment connected
to EP5G, they should be able to communicate with the internet.</p></li>
<li><p>If you want to communicate with local edge servers (worker nodes), you have to defined yet another network and include it in your router
definitions. Again, see the diagram at the top of this page.</p></li>
<li><p>Under <em>Networks</em> -&gt; <em>+ Create Network</em>, create a new network</p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Create new network" src="../_images/network_local1.png" />
</figure>
<ul class="simple">
<li><p>Define a subnet that can reach the container you want to communicate with in a worker node. The actual data will depend on the container address.
In this case, the subnet is “10.70.70.0/24”.</p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Create subnet" src="../_images/network_local2.png" />
</figure>
<ul class="simple">
<li><p>Under <em>Subnet Details</em>, uncheck the DHCP box, and the click <em>Create</em></p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Subnet details" src="../_images/network_local3.png" />
</figure>
<ul class="simple">
<li><p>Now go back to <em>Routers</em> on the left panel. Click on your newly defined router, and under <em>Interfaces</em> tab, click “Add Interface”.
Add the the new local network as subnet. You can leave the IP address blank if you want. Then, the IP address you have earlier defined as
gateway of the subnet will be used for the interface. Click <em>Submit</em>.</p></li>
</ul>
<figure class="screenshot align-default">
<img alt="Router add interface towards worker node container" src="../_images/router9.png" />
</figure>
<ul class="simple">
<li><p>You should now also be able to reach your edge container located on a worker node from your user equipment</p></li>
</ul>
</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="../container-basic/index.html" class="btn btn-neutral float-left" title="Running a basic container" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="../container-vs-ep5g/index.html" class="btn btn-neutral float-right" title="Running a container towards EP5G" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, ExPECA.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>
 <script type="text/javascript">
    $(document).ready(function() {
        $(".toggle > *").hide();
        $(".toggle .header").show();
        $(".toggle .header").click(function() {
            $(this).parent().children().not(".header").toggle(400);
            $(this).parent().children(".header").toggleClass("open");
        })
    });
</script>


</body>
</html>